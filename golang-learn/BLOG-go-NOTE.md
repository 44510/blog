---
title: goloang learn
date: 2019-04-16
---

[官方文档](http://docscn.studygolang.com/doc/)
[标准库中文文档](https://studygolang.com/pkgdoc)
[Go by Example 中文，更基础](https://books.studygolang.com/gobyexample/)
[go 指南](http://tour.studygolang.com/basics/1)

[TOC]

## 概述

### Go 语言特色

- 简洁、快速、安全
- 并行、有趣、开源
- 内存管理、数组安全、编译迅速

### Go 语言用途

Go 语言被设计成一门应用于搭载 Web 服务器，存储集群或类似用途的巨型中央服务器的**系统编程语言**。
对于高性能分布式系统领域而言，Go 语言无疑比大多数其它语言有着更高的开发效率。它提供了**海量并行的支持**，这对于**游戏服务端的开发**而言是再好不过了。

### Go 语言最主要的特性

- 自动垃圾回收
- 更丰富的内置类型
- 函数多返回值
- 错误处理
- 匿名函数和闭包
- 类型和接口
- 并发编程
- 反射
- 语言交互性

## 安装 go

1. `brew install go 或者 brew install golang`
2. 下载 pkg 类型的文件来安装

### 查看版本

```bash
go version
```

### 查看环境

```bash
go env
```

### 代码编译与执行

```bash
# 方式1，多用于调试:
# 执行文件
go run ./hello.go
# 方式2，用于生产环境:
# build 命令用于编译我们指定的源码文件或代码包以及它们的依赖包。
go build ./hello.go
# 这里是可执行文件，二进制文件
./hello
```

## 语言结构

Go 语言的基础组成有以下几个部分：

包声明
引入包
函数
变量
语句 & 表达式
注释

```go
package main

import "fmt"

func main() {
   /* 这是我的第一个简单的程序 */
   fmt.Println("Hello, World!")
}
```

1. 第一行代码 package main 定义了**包名**。你必须在源文件中**非注释**的第一行指明这个文件属于哪个包，如：package main。**package main 表示一个可独立执行的程序**，每个 Go **应用程序**都包含一个名为 main 的包。

2. 下一行 import "fmt" 告诉 Go 编译器这个程序**需要使用 fmt 包（的函数，或其他元素）**，fmt 包实现了格式化 IO（输入/输出）的函数。

3. 下一行 func main() 是程序开始执行的函数。**main 函数是每一个可执行程序所必须包含的**，一般来说都是在**启动后第一个执行的函数**（**如果有 init() 函数则会先执行该函数**）。

4. **注释基本与 js 类似**。下一行`/*...*/`是注释，在程序执行时将被忽略。单行注释是最常见的注释形式，你可以在任何地方使用以 `//` 开头的单行注释。多行注释也叫块注释，均已以 /_ 开头，并以 _/ 结尾，且不可以嵌套使用，多行注释一般用于包的文档描述或注释成块的代码片段。

5. 下一行 fmt.Println(...) 可以将字符串输出到控制台，并在最后自动增加换行字符 \n。
   使用 fmt.Print("hello, world\n") 可以得到相同的结果。
   Print 和 Println 这两个函数也支持使用变量，如：fmt.Println(arr)。如果没有特别指定，它们会以默认的打印格式将变量 arr 输出到控制台。

6. **当标识符（包括常量、变量、类型、函数名、结构字段等等）以一个大写字母开头**，如：Group1，那么使用这种形式的标识符的对象**就可以被外部包的代码所使用**（客户端程序需要先导入这个包），这被称为导出（像面向对象语言中的 public）；**标识符如果以小写字母开头，则对包外是不可见的**，但是他们在整个包的内部是可见并且可用的（像面向对象语言中的 protected ）。

### go 代码组织

- Go 程序是通过 `package` 来组织的。
- 只有 package 名称为 main 的包可以包含 main 函数。
- 一个**可执行程序**(这里单个文件是一个片段)**有且仅有一个 main 包**。
- 通过 import 关键字来导入其他非 main 包。
- 使用 `<PackageName>.<FunctionName>` 来调用函数；

## 坑

- 需要注意的是 `{` 不能单独放在一行；
- cannot run non-main package；入口文件必须是 main 包。

## basic-grammar

### variable，变量

#### 变量的声明

- 通过 **const** 关键字来进行常量的定义。
- 通过在函数体外部使用 **var** 关键字来进行**全局变量的声明和赋值**。
- 通过 **type** 关键字来进行**结构(struct)和接口(interface)的声明**。
- 通过 func 关键字来进行**函数的声明**。
- var 声明 1 个或者多个变量。
- 你可以申明一次性声明多个变量。
- Go 将自动推断已经初始化的变量类型。
- 声明变量且没有给出对应的初始值时，变量将会初始化为零值 。例如，一个 int 的零值是 0。

####
