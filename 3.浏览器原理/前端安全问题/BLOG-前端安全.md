---
title: 前端安全
date: 2017-3-20
tags:
  - 前端安全
categories:
  - [浏览器原理, 前端安全]
---

## 8 大前端安全问题

8 大典型的前端安全问题，它们分别是：

- 老生常谈的 XSS
- 警惕 iframe 带来的风险
- 别被点击劫持了
- 错误的内容推断
- 防火防盗防猪队友：不安全的第三方依赖包
- 用了 HTTPS 也可能掉坑里
- 本地存储数据泄露
- 缺失静态资源完整性校验

## XSS 是跨站脚本攻击（Cross-Site Scripting）的简称

1. [反射型](./imgs/xss反射型原理.jpg)一般需要用户自行去触发，钓鱼网站。
2. [存储型](./imgs/xss存储型原理.jpg)（内部攻击型）网页程序本身 xss 漏洞，只要用户请求该网页就会受到影响。存储型是直接将 xss 语句插入到网站的正常页面中（通常都是留言板），**然后用户只要访问了这些页面，就会自动执行其中的 xss 语句**。

它是个老油条了，在 OWASP Web Application Top 10 排行榜中长期霸榜，从未掉出过前三名。

XSS 这类安全问题发生的本质原因在于，**浏览器错误的将攻击者提供的用户输入数据当做 JavaScript 脚本给执行了。**

XSS 有几种不同的分类办法：

1. 例如按照**恶意输入的脚本**是否在应用中存储，\*\*XSS 被划分为“存储型 XSS”和“反射型 XSS”，

2. 如果按照是否和服务器有交互，又可以划分为“Server Side XSS”和“DOM based XSS”。

无论怎么分类，XSS 漏洞始终是威胁用户的一个安全隐患。攻击者可以利用 XSS 漏洞来窃取包括用户身份信息在内的各种敏感信息、修改 Web 页面以欺骗用户，甚至控制受害者浏览器，或者和其他漏洞结合起来形成蠕虫攻击，等等。总之，关于 XSS 漏洞的利用，只有想不到没有做不到。

**防御 XSS 最佳的做法就是对数据进行严格的输出编码**，使得攻击者提供的数据不再被浏览器认为是脚本而被误执行。例如在进行 HTML 编码后变成了`<script>`，而这段数据就会被浏览器认为只是一段普通的字符串，而不会被当做脚本执行了。

## 跨站请求伪造，CSRF（英语：Cross-site request forgery）

通常缩写为  **[CSRF](./csrf攻击.png)**  或者  **XSRF**，是一种挟制用户在当前已登录的 Web 应用程序上执行非本意的操作的攻击方法。

跨站请求攻击，简单地说，是攻击者通过一些技术手段**欺骗用户的浏览器去访问一个自己曾经认证过的网站并执行一些操作**（如发邮件，发消息，甚至财产操作如转账和购买商品）。由于浏览证的一个漏洞：**简单的身份验证只能保证请求发自某个用户的浏览器，却不能保证请求本身是用户自愿发出的**。

## 如何解决相关的问题

1. xss 的话主要使用转义。

2. csrf 的话项目中主要使用的是 **jwt(javascript web token)**。在进行一些改变系统数据的重要操作中（比如提交订单，修改密码，删除..等操作），加入一个**供校验的 action token**。这个 action token 是由**应用先前生成的**（如绘制表单时），作为表单的一个 hidden 字段。

### 前端安全与 CSRF，XSS，SQL 注入，DDOS
