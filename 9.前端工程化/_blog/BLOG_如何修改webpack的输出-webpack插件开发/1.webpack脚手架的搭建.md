## webpack基础项目搭建

<!-- !从头演示一下 -->

要开发测试，首先我们要搭建一个基本的webpack脚手架，如[webpack-5](https://github.com/qiuwww/blog/blob/de3c71c21792519c7a11e0b59680e75edea38815/9.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/webpack/webpack-5)示例，主要包括如下的一些部分；

1. 新建一个项目，添加`package.json`和`.gitignore`等文件；
2. 添加多环境的webpack配置文件；
   1. webpack.base.js；
   2. webpack.dev.js；
   3. webpack.prod.js；
3. 添加`package.js`的`scripts`命令；
   1. dev；
   2. build；
   3. analyzer；
4. 添加入口文件entry，以及相关的loader；
   1. 添加webpack-html插件，将js文件注入到一个html模板中；
   2. 添加loader，添加babelrc配置文件；
5. 添加plugin；
   1. 处理css提取；
   2. 处理js压缩；
6. 添加devServer；

### 基本的配置

1. 添加输入输出
2. 添加webpack-html插件；
3. 添加loader
   1. 添加babelrc配置文件；
4. 添加plugin
   1. 处理css提取
   2. 处理js压缩
5. 区分dev与prod模式；
6. 添加devServer

### 完整的项目结构如下

<!-- !具体参考webpack-5，可以重新走一遍流程 -->

```bash
/Users/qiuwww/code/learn/blog/9.前端工程化/webpack/webpack-5
├── README.md
├── babel.config.js
├── dist
|  ├── ast-68db6b.js
|  ├── ast-68db6b.js.map
|  ├── fileList.md
|  ├── index-68db6b.js
|  ├── index.html
|  ├── login-68db6b.js
|  └── public
├── package.json
├── public
|  ├── config.js
|  ├── favicon.ico
|  ├── index.html
|  ├── js
|  └── login.html
├── scripts
|  ├── loader-modify.js
|  └── plugins
├── server.js
├── src
|  ├── a.js
|  ├── ast.js
|  ├── css
|  ├── handle.js
|  ├── imgs
|  ├── index.js
|  ├── login.js
|  └── logo.webp
├── tree.txt
├── webpack.config.base.js
├── webpack.config.dev.js
├── webpack.config.prod.js
└── yarn.lock

directory: 451 file: 26

ignored: directory (1)
```
