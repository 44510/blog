```js

const { ConcatSource } = require('webpack-sources')

class HaoroomssAddDebugger {
  /**

* @param options.min 最小间隔秒数
* @param options.max 最大间隔秒数
   */
  constructor (options = { min: 1, max: 20 }) {
    this.min = options.min && options.min > 0 ? options.min : 1
    this.max = options.max && options.max <= 600 ? options.max : 600
  }

  apply (compiler) {
    compiler.hooks.afterCompile.tapAsync({
      name: 'HaoroomssAddDebugger',
    }, (compilation, callback) => {
      let assetNames = Object.keys(compilation.assets)
      for (const name of assetNames) {
        if (name.endsWith('.js')) { // 跳过非js文件
          let seconds = Math.ceil(Math.random() * (this.max - this.min)) +
            this.min
            // 这里是关键
           let appendContent = `(() => {
        function block() {
            if (
                window.outerHeight - window.innerHeight > 200 ||
                window.outerWidth - window.innerWidth > 200
            ) {
                document.body.innerHTML =
                    "检测到非法调试,请关闭后刷新重试!";
            }
            setInterval(() => {
                (function () {
                    return false;
                }
                    ["constructor"]("debugger")
                    ["call"]());
            }, ${seconds});
        }
        try {
            block();
        } catch (err) {}
    })();`
          compilation.updateAsset(
            name,
            old => new ConcatSource(old, '\n', appendContent),
          )
        }
      }
      callback()
    })
  }
}

module.exports = HaoroomssAddDebugger
```

分析代码

```js
setInterval(() => {
  (function () {
      return false;
    }["constructor"]("debugger")["call"]()
  );
}, 5000);
```
