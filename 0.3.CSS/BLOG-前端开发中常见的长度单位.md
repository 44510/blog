---
layout: post
title: 开发中常见的长度单位
date: 2019-2-13 15:46:25
# updated: 2013-7-13 20:46:29
# photos:
tags:
  - CSS
# categories:
# - 编程
categories:
  - CSS
comments: true
---

[TOC]

- Px，ppi
- dot，dpi
- sp，dp
- pt

## px：像素（pixel）

1. 像素实际上是一个**颜色点**，所以又称**像素点**。大量不同颜色点组成一张图像，因此图像的基本单位是像素 px（没有比像素更精细的单位了）。
2. 像素主要用来**表示图像大小和显示器分辨率**（如`1920*1080px`）。**像素本身的物理尺寸不固定**，所以它的物理尺寸没有意义，有意义的是它的数量。
3. 为什么像素的物理尺寸不固定？
   像素本身不是物理世界的单位，是一个**相对单位**，尺寸可大可小。**在高密度的屏幕上像素会变小，显示效果更清晰。因为“像素量 px = 像素密度 ppi x 屏幕尺寸 in”，**同样是 1 英寸的屏幕，密度越大，像素越多，则单个像素的物理尺寸越小。
4. 都是图片相关信息，图片体积和像素有什么关系？
   通常所说的 100KB 的图片指的就是图片的体积，首先一张图像在存储时，**会描述每个像素点的颜色信息、位置、数量，这些描述数据就是图像的体积**，如果像素越多自然图像体积越大。假如一张图片都是一个颜色，图像在保存时就会压缩，只存一个像素点的颜色信息，这样的图像体积会小很多。所以，像素点越多，颜色越复杂，图像体积越大。

## ppi：像素密度（pixel per inch）

1. **1 英寸屏幕上显示的像素量，密度单位**。决定图片的物理显示尺寸，只有涉及到显示才有意义。值越大，显示越细腻。
2. 计算公式： ppi=**屏幕对角线上的像素量 px/对角线长度 inch（英寸）** = √（屏幕横向像素^2 + 屏幕纵向像素^2）/对角线长度。
3. 为什么说 ppi 决定图片的物理尺寸？
   一个手机的显示屏在出厂时就确定了 PPI 的值，**PPI 越大，显示越高清**。图片的物理尺寸 = PPI \* Px，**通常一张图像的 px 确定，ppi 越大，则它的物理尺寸越小**。所以为什么我们在高 PPI 的手机上，人眼看到的图像比低 PPI 的图形小。**在设计行业，我们会针对高 PPI 的手机，设计更大像素的图像也是这个道理。**
4. 日常所说的分辨率有两个概念，**一个指显示器的分辨率，另一个指图像的分辨率**。显示器分辨率指显示器所**能显示的像素多少**（`1920px*1080px`），显示器可显示的像素越多，画面就越精细，因为屏幕尺寸一定，分辨率越大，像素密度越大。显示器分辨率都用（`1920px*1080px`）这种形式表示，清晰度还需要结合屏幕尺寸计算。图像分辨率则是单位英寸中所包含的像素点数，比如 photoshop 里新建画布时设置的图像分辨率 72ppi，其定义更趋近于分辨率本身的定义。

## dot：墨点

印刷品的最小单位，表示一个印刷颜色点，类似 px，只有相对大小，用在印刷行业。

## dpi：打印分辨率 (dot per inch)

1 英寸上打印的墨点数量，密度单位，只用在印刷行业，值越大，印刷越精细。

印刷行业相关的单位是 dot，dpi。印刷尺寸（英寸）=打印墨点数（dot）/打印机密度（dpi）。

## pt：点（印刷）

**大小为 1/72 英寸=0.35mm，单位是英寸，是物理长度单位，大小固定，绝对单位。**源于活字排版时代，photoshop 里的字体单位就只这个。

公式：1pt= (PPI / 72) px。

当 photoshop 中新建画布的分辨率为 72ppi，由公式，则 1pt=1px。当分辨率为 144ppi 时，1pt=2px。

注意：这里指印刷行业的 pt！

## pt： 点（iOS）

iOS 系统开发单位，是独立像素的意思，长度固定，不随屏幕像素密度 ppi 变化而变化。

苹果公司规定：普屏时 1px=1px，而普屏的 ppi=163 像素/英寸，那么 pt=1/163 英寸=0.16mm（固定值）。普屏 1px=1px，高清屏 1pt=2px。

**用固定长度 pt 作为开发单位的好处是，这样可以保证同一张图片在不同设备上显示大小一样，因为 pt 值是固定的。**高清屏上 1pt 等于更多的像素 px，因为像素在高清屏上变小，所以 pt 还是固定的。

## dp：长度（Android）

(Density-independent pixel) 是**安卓开发用的长度单位**。

根据不同的屏幕分辨率，与 px 有不同的倍数关系。规定：1dp 等于屏幕像素密度为 160ppi 时 1px 的长度，因此 dp 在整个系统大小是固定的。公式：1dp=（屏幕 ppi/ 160）px。

1dp 等于屏幕像素密度为 160ppi 时 1px 的长度，即，在 mdpi 时，1dp = 1px。 以 mdpi 为标准，这些屏幕的密度值比为： ldpi : mdpi : hdpi : xhdpi : xxhdpi = 0.75 : 1 : 1.5 : 2 : 3。android 中清屏 1dp=1px，高清屏 1dp=1.5px，超清屏 1dp=2px。

## sp：大小（Android）

(scale-independent pixel) 安卓开发用的字体大小单位。

注意：dp 和 sp 都是安卓开发的单位，dp 是长度单位，sp 是字体单位。一般情况下可认为 sp=dp。

## rem：是 CSS3 新增的一个相对单位（root rem，根 em），这个单位引起了广泛关注

这个单位与 em 有什么区别呢？

**区别在于使用 rem 为元素设定字体大小时，仍然是相对大小，但相对的只是 HTML 根元素。**这个单位可谓集相对大小和绝对大小的优点于一身，通过它既可以做到**只修改根元素就成比例地调整所有字体大小**，**又可以避免字体大小逐层复合的连锁反应。**目前，除了 IE8 及更早版本外，所有浏览器均已支持 rem。对于不支持它的浏览器，应对方法也很简单，就是多写一个绝对单位的声明。这些浏览器会忽略用 rem 设定的字体大小。

### rem 的优点

遇到问题多思考一会，或许就会有更好的解决方案。

1、rem 是（font size of the root element），官方解释：

> rem unit
> Equal to the computed value of "font-size" on the root element. When specified > on the "font-size" property of the root element.the "rem" unites refer to the > property's inital value.

意思就是**根据网页的根元素来设置字体大小**，和 em（font size of the element）的区别是，em 是根据其父元素的字体大小来设置，而 rem 是根据网页的根元素（html）来设置字体大小的。

2、一般使用

```css
html {
  font-size: 16px;
}
p {
  font-size: 0.75rem;
  /* 12÷16 = 0.75（rem）*/
}
```

rem 不仅可以适用于字体，同样可以用于 width、height、margin 这些样式的单位。
其实根据不同的屏幕的大小，根元素设置的一个固定像素的根元素大小，并不太适合移动端的适配。

3、一般做**移动端适配**的方法，一般可以分为：

- 简单一点的页面，一般高度直接设置成固定值，宽度一般撑满整个屏幕。
- 稍复杂一些的是**利用百分比设置元素的大小来进行适配**，或者利用 flex 等 css 去设置一些需要定制的宽度。
- 再复杂一些的响应式页面，需要利用 css3 的 `media query` 属性来进行适配，大致思路是根据屏幕不同大小，来设置对应的 css 样式。

4、rem 基准值计算

还是常用的这种方法比较合适：利用 javascript 来动态设置根据我们之前算出的基准值，我们可以利用 js 动态算出当前屏幕所适配的 font-size 即：

```js
document.getElementsByTagName('html')[0].style.fontSize = window.innerWidth / 10 + 'px';
```

5、rem 适配进阶

一般手机的 **dpr** 是 1，iphone4，iphone5 这种**高清屏是 2**，iphone6s plus **这种高清屏是 3**，可以通过 js 的 window.devicePixelRatio 获取到当前设备的 dpr，所以 iphone6 给的视觉稿大小是（\*2）750×1334 了。

拿到了 dpr 之后，我们就可以在 **viewport meta 头里，取消让浏览器自动缩放页面**，而自己去设置 viewport 的 content 例如（这里之所以要设置 viewport 是因为我们要实现 border1px 的效果，加入我给 border 设置了 1px，在 scale 的影响下，高清屏中就会显示成 0.5px 的效果）

```js
meta.setAttribute(
  'content',
  'initial-scale=' +
    1 / dpr +
    ', maximum-scale=' +
    1 / dpr +
    ', minimum-scale=' +
    1 / dpr +
    ', user-scalable=no',
);
```

## vh 单位

相对于**视口的高度**。视口被均分为 100 单位的 vh

vh，是指 CSS 中相对长度单位，表示相对视口高度（Viewport Height），1vh = 1% \* 视口高度。

## 样式文件的编写感悟

### 对于在一个设置中一直不会变的样式

> 既然不会改变，呢就给定一个有特殊意义的 class 命名空间，将这一块的样式写死。

### 对于大体相同，但是局部不一样的样式

- 使用特殊的 class 命名空间配合预编译器的函数来实现对一些变量的控制。
- 如 table，可设置长宽，设置是否可以滚动，设置列数(以便计算每列的宽度和最小宽度)，设置是否可以滚动(以及滚动的方向)，thead 的高度(行高)，tbody 的行高。然后多特殊的样式，再单独控制。

### 对于常用的比较长的属性的编写

使用函数，如 background-color: #fff;之类的。设置背景图片等

### 对于常用的代码块的编写

使用代码块，每次用到引用，如单行超出省略

### 常用的颜色值等变量

使用变量来表示，以防止多次改变
