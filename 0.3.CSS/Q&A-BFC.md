---
layout: post
title: BFC
date: 2019-01-29 20:20:20
# updated: 
# photos: 
tags:
- CSS
- BFC
categories:
- CSS
comments: true
---

# BFC : Block Formatting Contex

[TOC]

写CSS样式时，对一个元素设置css,我们首先要知道这个元素是**块级元素还是行内元素**，**而BFC就是用来格式化块级盒子的。**

Formatting Context：指页面中一个渲染区域，并且拥有一套渲染规则，它决定了其子元素**如何定位**，以及**与其他元素的相互关系和作用**。

BFC定义：**块级格式化上下文，它是指一个独立的块级渲染区域，只有Block-level Box参与，该区域拥有一套渲染规则来约束块级盒子的布局，且与区域外部无关。**

## BFC特性

1、浮动元素和绝对定位元素，非块级盒子的块级容器（例如 inline-blocks, table-cells, 和 table-captions），以及**overflow值不为“visiable”的块级盒子**，**都会为他们的内容创建新的块级格式化上下文（BFC）**。

2、在一个块级格式化上下文里，盒子从包含块的顶端开始**垂直**地一个接一个地排列，两个盒子之间的垂直的间隙是由他们的margin 值所决定的。两个相邻的块级盒子的垂直外边距会发生叠加。

3、在块级格式化上下文中，每一个盒子的左外边缘（margin-left）会触碰到容器的左边缘(border-left)（对于从右到左的格式来说，则触碰到右边缘），即使存在浮动也是如此，除非这个盒子创建一个新的块级格式化上下文。

## 应用

### 解决margin重叠问题

相邻的垂直元素同时设置了margin后，实际margin值会塌陷到其中**较大的那个值**。
其根本原理就是它们**处于同一个BFC，符合“属于同一个BFC的两个相邻元素的margin会发生重叠”的规则。**

解决： **在其中一个元素外面包裹一层容器，并触发该容器生成一个BFC。**那么两个元素便属于不同的BFC，就不会发生margin重叠了。一个元素设置`overflow: hidden;`可以解决

### 解决浮动问题

给父元素设置overflow:hidden可以清除子元素的浮动，但往往都不知道原理是什么？

其实这就是应用了BFC的原理：**当在父元素中设置overflow:hidden时就会触发BFC**，所以他内部的元素就**不会影响外面的布局**，BFC就把浮动的子元素高度当做了自己内部的高度去处理溢出，所以外面看起来是清除了浮动。

### 解决侵占浮动元素的问题

浮动元素会脱离文档流，然后浮盖在文档流元素上。

解决： 1. 同时都浮动；2. 清除浮动（overflow: hidden;）
