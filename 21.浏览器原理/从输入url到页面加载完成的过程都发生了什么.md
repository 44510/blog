


## 从输入 URL 到浏览器接收的过程中发生了什么事情


### 输入

键盘、鼠标、触摸屏 -> 转换到电气信号电路 -> cpu|gpu

## 浏览器如何向网卡发送数据

输入 URL 后的「回车」，这时浏览器会对 URL 进行检查，首先判断协议，如果是 http 就按照 Web 来处理，另外还会对这个 URL 进行安全检查，然后直接调用浏览器内核中的对应方法，比如 WebView 中的 loadUrl 方法。

> 输入 URL 后的「回车」，这时浏览器会对 URL 进行检查，首先判断协议，如果是 http 就按照 Web 来处理，另外还会对这个 URL 进行安全检查，然后直接调用浏览器内核中的对应方法，比如 WebView 中的 loadUrl 方法。

### http请求的发送

因为网络的底层实现是和内核相关的，所以这一部分需要针对不同平台进行处理，从**应用层角度看主要做两件事情：通过 DNS 查询 IP、通过 Socket 发送数据。**

#### DNS查询

**DNS(domain name system)**，读者们或多或少都听过，就是可以**将域名转换给IP的一个系统**。使得我们**只需记住域名而非IP就能访问某个网站**。

- 当我们在浏览器里面输入一个网址时，浏览器会向本地DNS服务器发出查询请求，本地DNS服务器会把网址对应的IP返回给浏览器。注意：更确切来说，不是本地DNS服务器，而是Windows网络连接里面所配置的DNS服务器。一般我们不会配置的，所以本文默认使用**本地DNS服务器**。
- **也可以更改域名ip指向，直接指向要访问的服务器的ip。**

### 通过socket发送数据

有了 IP 地址，就可以通过 Socket API 来发送数据了，这时可以选择 TCP 或 UDP 协议。

因为 HTTP pipelining 可以让多个 HTTP 请求通过一个 TCP 发送。









