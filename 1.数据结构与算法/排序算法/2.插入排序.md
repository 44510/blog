# 插入排序

## 原理

插入排序是一种**最简单直观的排序算法**，它的工作原理是**通过构建有序序列**，对于未排序数据，在已排序序列中**从后向前扫描，找到相应位置并插入。**

**将数据分为两部分，有序部分与无序部分**，一开始有序部分只包含第 1 个元素，依次将无序的元素插入到有序部分，直到所有元素有序。

## 说明

### 动图说明

![插入排序](./imgs/插入排序.gif)

### 时间与空间复杂度

1. 时间复杂度：最坏情况就是，序列是**降序排列**，那么此时需要进行的比较共有 n(n-1)/2 次。 插入排序的赋值操作是比较操作的次数加上(n-1）次。 **平均来说插入排序算法的时间复杂度为 O(n^2）**。
2. 空间复杂度为：O(1)；

## 步骤

1. 将第一待排序序列**第一个元素看做一个有序序列**，**把第二个元素到最后一个元素当成是未排序序列**。
2. 从头到尾依次**扫描未排序序列，将扫描到的每个元素插入有序序列的适当位置。**（如果待插入的元素与有序序列中的某个**元素相等，则将待插入元素插入到相等元素的后面。**）

## js 代码实现

```js
function insertionSort(array) {
  // 直接调用Array.isArray方法啊
  if (Object.prototype.toString.call(array).slice(8, -1) === 'Array') {
    var times = 0;

    // 默认第一个元素为有序部分
    for (var i = 1; i < array.length; i++) {
      // 从第二个元素开始
      // 目标元素，依次与前面的j个元素元素进行比较
      var key = array[i];
      var j = i - 1;
      // 寻找插入位置
      while (j >= 0 && key < array[j]) {
        // 依次与之前的元素对比
        key = array[j]; // j位置的向后移一位到j+1
        times++;
        j--;
      }
      array[j + 1] = key; // 移出的空位填当前比较的元素
    }
    console.log('最终的结果数组为：%s，计算次数为: %s', array.toString(), times);
    return array;
  } else {
    return 'array is not an Array!';
  }
}
var arr = [5, 6, 9, 7, 1, 3, 2, 5, 8, 6, 5];
insertionSort(arr);
// 最终的结果数组为：Array(11)，计算次数为: 26
```
