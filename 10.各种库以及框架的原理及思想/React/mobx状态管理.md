
#Mobx

**简单可扩展的状态管理库工具，MobX 会确保组件总是在需要的时重新渲染，但仅此而已。**

### React 和 MobX 是一对强力组合。

React 通过提供机制把应用状态转换为可渲染组件树并对其进行渲染。而MobX提供机制来存储和更新应用状态供 React 使用。

对于应用开发中的常见问题，React 和 MobX都提供了最优和独特的解决方案。React 提供了优化UI渲染的机制， 这种机制就是通过使用虚拟DOM来减少昂贵的DOM变化的数量。MobX 提供了优化应用状态与 React 组件同步的机制，这种机制就是使用响应式虚拟依赖状态图表，它只有在真正需要的时候才更新并且永远保持是最新的。

### Observable state(可观察的状态)

使用 `observable` 很像把对象的属性变成excel的单元格。 但和单元格不同的是，这些值不只是原始值，还可以是引用值，比如对象和数组。 你甚至还可以自定义可观察数据源。

**@是ES.next的装饰器。**

### Computed values(计算值)
使用 MobX， 你可以定义在相关数据发生变化时自动更新的值。 通过`@computed `装饰器或者利用 `(extend)Observable`时调用 的`getter / setter`函数来进行使用。

### Reactions(反应)

Reactions 和计算值很像，**但它不是产生一个新的值，而是会产生一些副作用**，比如打印到控制台、网络请求、递增地更新 React 组件树以修补DOM、等等。 简而言之，reactions 在 **响应式编程**和**命令式编程**之间建立沟通的桥梁。



#### 自定义 reactions（自己创建监听操作）

使用`autorun`、`reaction`和 `when`函数即可简单的创建自定义 reactions，以满足你的具体场景。

例如，每当 `unfinishedTodoCount` 的数量发生变化时，下面的 `autorun` 会打印日志消息:

```
autorun(() => {
    console.log("Tasks left: " + todos.unfinishedTodoCount)
})
```



### MobX 会对在执行跟踪函数期间读取的任何现有的可观察属性做出反应。

### Actions(动作)

最后全部归纳为: 状态应该以某种方式来更新。

当状态更新后，`MobX` 会以一种高效且无障碍的方式处理好剩下的事情。

从技术上层面来讲，并不需要触发事件、调用分派程序或者类似的工作。归根究底 React 组件只是状态的华丽展示，而状态的衍生由 MobX 来管理。

尽管如此，MobX 还是提供了 `actions` 这个可选的内置概念。 使用 `actions` 是有优势的: 它们可以帮助你把代码组织的更好，还能在状态何时何地应该被修改这个问题上帮助你做出明智的决定。



