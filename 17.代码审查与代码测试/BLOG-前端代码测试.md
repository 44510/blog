---
title: BLOG-前端代码测试
date: 2017-6-6
tags:
  - 代码测试
  - 单元测试
---

## 如何测试前端代码么? 知道 BDD, TDD, Unit Test 么

BDD: 行为驱动开发（Behavior-Driven Development）

TDD: TDD 是测试驱动开发（Test-Driven Development）的英文简称，TDD 的原理是在开发功能代码之前，先编写单元测试用例代码，测试代码确定需要编写什么产品代码

Unit Test: 单元测试

## 测试类型

- unit test（单元测试）：应用仔细拆分为一个一个组件（JavaScript 中的一个函数／模块／类等），方法，然后针对这些方法进行单个单个的测试；
- e2e test（端到端测试，由测试工程师进行）：ClickButton 测试，牵扯到用户行为，需要用浏览器环境。

## 知道怎么测试你的前端工程么(mocha, sinon, jasmin, qUnit..)

## 测试管理工具／框架／库

### 测试管理工具，Karma

用来组织和运行整个测试的工具，它能够将测试框架、断言库、测试浏览器、测试代码和被测试代码组织起来，并运行被测试代码进行测试。（**Selenium、Karma**）

### 测试框架，Mocha、Jasmine

**Mocha、Jasmine**等等，测试主要提供了清晰简明的语法来**描述测试用例**，以及**对测试用例分组**，测试框架会抓取到代码抛出的 AssertionError，并增加一大堆附加信息，比如那个用例挂了，为什么挂等等。

测试框架通常提供**TDD（测试驱动开发）**或**BDD（行为驱动开发）**的测试语法来编写测试用例，关于 TDD 和 BDD 的对比可以看一篇比较知名的文章 The Difference Between TDD and BDD。

不同的测试框架**支持不同的测试语法**，比如 Mocha 既支持 TDD 也支持 BDD，而 Jasmine 只支持 BDD。

### 断言库

**Should.js、chai、expect.js**等等，断言库提供了很多语义化的方法来**对值做各种各样的判断**。**当然也可以不用断言库，Node.js 中也可以直接使用原生 assert 库。**

### 代码覆盖率

istanbul 等等为代码在语法级分支上打点，**运行了打点后的代码，根据运行结束后收集到的信息和打点时的信息来统计出当前测试用例的对源码的覆盖情况。**

### 测试浏览器

前端代码是运行在浏览器中的，要对其进行单元测试，只能将其运行在浏览器上。**目前大部分测试工具都支持调用和运行本地浏览器来进行测试**，

但如果你的测试仅仅是针对函数和模块的单元测试，则完全可以使用一款无界面的浏览器：PhantomJs

## 测试框架共性

提供 TDD/BDD 的测试语法来编写测试用例
提供断言语法
提供测试用例对源码的覆盖情况
